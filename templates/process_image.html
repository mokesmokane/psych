{% extends "base.html" %}

{% block content %}
<h2>Process New Image</h2>
<form id="process-form" method="POST" enctype="multipart/form-data">
    <div class="mb-3">
        <label for="image-upload" class="form-label">Choose an image to process</label>
        <input type="file" class="form-control" id="image-upload" name="photo" accept="image/*" required>
    </div>
    <div class="mb-3">
        <label for="iterations" class="form-label">Number of psychedelic iterations (1-9)</label>
        <input type="number" class="form-control" id="iterations" name="iterations" min="1" max="9" value="9" required>
    </div>
    <img id="image-preview" class="image-preview" style="display: none;" alt="Image preview">
    <button type="submit" class="btn btn-primary mt-3">Process Image</button>
</form>
<div id="processing-status" class="mt-3" style="display: none;">
    <div class="spinner-border text-primary" role="status">
        <span class="visually-hidden">Processing...</span>
    </div>
    <span class="ms-2">Processing your image...</span>
</div>
{% endblock %}
